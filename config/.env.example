# Rename this file to `.env` and fill in values.

# ====================
# TELEGRAM CONFIGURATION
# ====================
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
# TELEGRAM_WEBHOOK_URL=https://your-app.fly.dev/webhook  # For production

# ====================
# DATABASE CONFIGURATION
# ====================
# PostgreSQL database (strongly recommended for production)
# For local development:
DATABASE_URL=postgresql://postgres:secret@localhost:5432/vinbot
# For Fly.io production, this will be automatically set

# ====================
# CACHE CONFIGURATION (Upstash Redis)
# ====================
# Get these from https://console.upstash.com/
UPSTASH_REDIS_REST_URL=https://your-upstash-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# ====================
# VIN DECODER SERVICES
# ====================
# AutoDev API (recommended - better data quality)
AUTODEV_API_KEY=your_autodev_api_key_here

# Optional: NHTSA API key (free service, limited data)
# NHTSA_API_KEY=optional_nhtsa_key

# Which service to use by default (autodev or nhtsa)
DEFAULT_DECODER_SERVICE=autodev

# ====================
# VEHICLE VALUATION SERVICES
# ====================
# Manheim Market Make Report (MMR) - Wholesale valuations
# Requires partnership agreement with Manheim
MANHEIM_MMR_API_KEY=your_manheim_mmr_api_key_here
MANHEIM_CLIENT_ID=your_manheim_client_id
MANHEIM_CLIENT_SECRET=your_manheim_client_secret
# MANHEIM_BASE_URL=https://api.manheim.com  # Production URL
# MANHEIM_SANDBOX_URL=https://sandbox.manheim.com  # Testing
# MANHEIM_TIMEOUT=45000
# MANHEIM_ENABLED=false

# ====================
# VEHICLE HISTORY SERVICES  
# ====================
# Carfax Vehicle History Reports
# Requires partnership agreement with Carfax
CARFAX_API_KEY=your_carfax_api_key_here
CARFAX_CLIENT_ID=your_carfax_client_id
CARFAX_CLIENT_SECRET=your_carfax_client_secret
# CARFAX_CERT_PATH=/path/to/carfax-certificate.pem
# CARFAX_BASE_URL=https://api.carfax.com
# CARFAX_TIMEOUT=60000
# CARFAX_ENABLED=false

# AutoCheck (Experian) - Vehicle History Reports
# AUTOCHECK_API_KEY=your_autocheck_api_key_here
# AUTOCHECK_CLIENT_ID=your_autocheck_client_id
# AUTOCHECK_BASE_URL=https://api.autocheck.com
# AUTOCHECK_ENABLED=false

# ====================
# ADDITIONAL VALUATION SERVICES
# ====================
# Kelley Blue Book (KBB) - Consumer valuations
# KBB_API_KEY=your_kbb_api_key_here
# KBB_CLIENT_ID=your_kbb_client_id
# KBB_CLIENT_SECRET=your_kbb_client_secret
# KBB_BASE_URL=https://api.kbb.com
# KBB_ENABLED=false

# Black Book - Vehicle valuations
# BLACK_BOOK_API_KEY=your_black_book_api_key_here
# BLACK_BOOK_CLIENT_ID=your_black_book_client_id
# BLACK_BOOK_BASE_URL=https://api.blackbook.com
# BLACK_BOOK_ENABLED=false

# Edmunds True Market Value
# EDMUNDS_API_KEY=your_edmunds_api_key_here
# EDMUNDS_BASE_URL=https://api.edmunds.com
# EDMUNDS_ENABLED=false

# J.D. Power Valuations
# JD_POWER_API_KEY=your_jd_power_api_key_here
# JD_POWER_CLIENT_ID=your_jd_power_client_id
# JD_POWER_BASE_URL=https://api.jdpower.com
# JD_POWER_ENABLED=false

# ====================
# OEM API INTEGRATIONS (Future)
# ====================
# Ford Developer Program
# FORD_API_KEY=your_ford_api_key_here
# FORD_CLIENT_ID=your_ford_client_id
# FORD_CLIENT_SECRET=your_ford_client_secret
# FORD_ENABLED=false

# General Motors Developer
# GM_API_KEY=your_gm_api_key_here
# GM_CLIENT_ID=your_gm_client_id
# GM_CLIENT_SECRET=your_gm_client_secret
# GM_ENABLED=false

# BMW ConnectedDrive
# BMW_API_KEY=your_bmw_api_key_here
# BMW_CLIENT_ID=your_bmw_client_id
# BMW_CLIENT_SECRET=your_bmw_client_secret
# BMW_ENABLED=false

# ====================
# PAYMENT PROCESSING (Stripe)
# ====================
# Get these from https://dashboard.stripe.com/
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
# STRIPE_WEBHOOK_ENDPOINT=/api/webhooks/stripe

# ====================
# API RATE LIMITING
# ====================
# Global API rate limits (requests per minute)
API_RATE_LIMIT_PER_MINUTE=100
API_BURST_LIMIT=200
# RATE_LIMIT_STORAGE=upstash  # redis, upstash, memory

# ====================
# SAAS PLATFORM CONFIGURATION
# ====================
# SaaS subscription tiers and pricing
SAAS_FREE_TIER_LIMIT=100              # VIN decodes per month for free tier
SAAS_PROFESSIONAL_TIER_LIMIT=2500     # VIN decodes per month for professional tier
SAAS_ENTERPRISE_TIER_LIMIT=10000      # VIN decodes per month for enterprise tier

# Stripe pricing plan IDs
STRIPE_FREE_PLAN_PRICE_ID=price_free_tier
STRIPE_PROFESSIONAL_PLAN_PRICE_ID=price_1H5rE2J
STRIPE_ENTERPRISE_PLAN_PRICE_ID=price_1H5rE3K
STRIPE_VIN_DECODE_PRICE_ID=price_per_vin_decode
STRIPE_PACKAGE_ANALYSIS_PRICE_ID=price_per_package_analysis

# SaaS platform settings
ENABLE_USAGE_TRACKING=true
ENABLE_SUBSCRIPTION_MANAGEMENT=true
ENABLE_BILLING_DASHBOARD=true

# ====================
# FEATURE FLAGS
# ====================
# Control which features are enabled (comma-separated)
FEATURE_FLAGS=packages_engine,valuations,history
# Available flags: packages_engine, valuations, history, premium_features, ai_insights, batch_processing

# ====================
# CORS CONFIGURATION
# ====================
# Allowed origins for API access (comma-separated for multiple origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,https://yourdomain.com
# CORS_ALLOW_CREDENTIALS=true
# CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
# CORS_ALLOW_HEADERS=Content-Type,Authorization,X-API-Key

# ====================
# MONITORING & OBSERVABILITY
# ====================
# Sentry for error tracking
# Get DSN from https://sentry.io/
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=development
# SENTRY_TRACES_SAMPLE_RATE=0.1
# SENTRY_PROFILES_SAMPLE_RATE=0.1

# OpenTelemetry for distributed tracing
# OTEL_EXPORTER_OTLP_ENDPOINT=https://api.honeycomb.io
# OTEL_EXPORTER_OTLP_HEADERS=x-honeycomb-team=your_api_key
# OTEL_SERVICE_NAME=vin-decoder-bot
# OTEL_SERVICE_VERSION=1.0.0
# OTEL_RESOURCE_ATTRIBUTES=deployment.environment=development

# ====================
# APPLICATION SETTINGS
# ====================
ENVIRONMENT=development  # or 'production'
DEBUG=False
LOG_LEVEL=INFO
HTTP_TIMEOUT_SECONDS=15

# ====================
# ADVANCED DATABASE SETTINGS (optional)
# ====================
# DB_POOL_SIZE=20
# DB_MAX_OVERFLOW=0
# DB_POOL_RECYCLE=3600
# DB_ECHO_SQL=False  # Set to True for SQL debugging

# ====================
# CACHE TTL SETTINGS (optional)
# ====================
# CACHE_TTL=3600  # Default cache TTL in seconds
# DECODER_CACHE_TTL=2592000  # 30 days for VIN data
# CACHE_TTL_SPECS=86400  # 24 hours for specifications
# CACHE_TTL_VALUATIONS=3600  # 1 hour for valuations  
# CACHE_TTL_HISTORY=604800  # 7 days for history
